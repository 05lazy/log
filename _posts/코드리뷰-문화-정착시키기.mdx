---
title: 코드리뷰 문화 정착시키기
date: June 4 2023
---

## 코드리뷰란

개발자가 본인이 만들지 않은 코드를 점검하고, 피드백을 주는 과정을 말합니다.

여기서 피드백이란 오타, 버그가능성, 개발 표준 등에 대한 의견이 될 수도 있고, 좋은 코드에 대한 긍정적 피드백이 될 수도 있다.
코드리뷰의 핵심은 단순히 코드의 일관성을 유지하고 예상되는 문제를 일찍 파악하는 것에 그치지 않고 코드에 대한 책임이 그 코드를 만든 사람 혼자에게 있지 않고 `구성원 모두의 책임이라는 문화`를 만들어가는데에 있다.

## 코드리뷰로 얻을 수 있는 것

- 배울 기회를 얻을 수 있다.
- 책임자를 추궁하지 않는 문화의 정착.
- 버그의 조기 발견, 개발 표준 준수, 중복 코드를 방지하고 모듈의 재사용성 증대

## 리뷰어의 자세

- 기능의 정상동작 여부
- 클린코드, convention 준수 여부
- 배울만한 점

자신이 후배코드를 검사한다고 생각하지 않고 동등한 입장에서 보는 것이 중요한 것 같다.

## 리뷰요청자의 자세

- 상황설명을 정확히 하여 리뷰어가 이해를 쉽게 하게 한다.
- PR file changes를 적게 올린다. (20개 이하면 적당)

## 현업에 적용할 수 있을까?

대부분의 유니콘기업들은 코드리뷰를 모두 적용하고 있다. 하지만 스타트업에서는 녹록치 않은 것이 현실이다.

### Why?

1. 너무 바쁘다.

옛날에 봤던 강연이 생각난다. 당장 먹고 살기도 힘든데 어떻게 문화를 정착시키겠는가? PR을 올리면 리뷰어가 리뷰를 할 때까지 기달리거나 다른 일을 해야한다. 이것은 할 일이 많은사람에게 매우 비효율적이다.

2. 리뷰요청자가 상황설명을 상세히 하지않는다.

코드리뷰와 같은 문화는 개발자의 시간투자를 전제로 한다. 리뷰어는 상황설명을 하는데에 고민과 시간을 투자한다. 하루에도 PR을 10개 가까이 올린다치면 짧은 글을 10개 이상 작성하는 것은 상당히 고되다.

3. 코드리뷰가 필요한지 딱히 느끼지 못한다.

코드리뷰가 가장 무산되는 이유가 무엇인가 생각해보면 모두가 코드리뷰에 진심이지는 않기 때문이다. 그냥 쓸데없는 시간낭비라고 생각하는 사람도 많고 막상 리뷰를 시작하면 시간낭비라는 생각이 가장 많이 들기 때문이다. 어느정도 타협하며 approve를 누르기 시작하면 그 순간 지키기 위한 문화가 시작된다...

### How to Started?

1. PR 템플릿을 만든다.

```markdown
## 개요 <!-- 작업 내역 한줄 요약, 스크린샷 등 -->

<!-- ## 이슈 번호

- closes #n -->

## 변경사항 <!-- 필수, 상세히 작성(목록화 등)하여 리뷰어에게 도움을 주세요! -->

## 특이사항 <!-- PR을 볼 때 주의깊게 봐야하거나 말하고 싶은 점 -->
```

2. Who, When

누가, 언제 리뷰를 할 지 정한다. 코드리뷰가 밀리는 것만큼 이 문화가 망하기 쉬운 길을 없다. 몇 일안에 리뷰를 할지 정한다.

## 나만의 방식

대부분 코드리뷰를 도입할 때 몇 명이상에게 어프로브를 받아야 머지할 수 있게 하는 경우가 많은데 나는 강제성은 빼야한다고 생각한다. 리뷰자가 개인판단으로 머지할 수 있게해야한다. 만약 리뷰가 필요하다고 생각되면 남겨두는 게 맞다. 이러면 아까말한 책임은 코드작성자에게 치우쳐지겠지만, 당장 먹고 살아야하는 스타트업에게는 가장 이상적인 것 같다. 하지만 이것도 코드리뷰가 귀찮은 사람들이 있으면 점점 무산될 것이다.
